
# Ð Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÐµÐ¹ Ð² Ð¾Ð´Ð½Ð¾Ð¼ Ð³Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ð¾Ð¼ ÑÐ»Ð¾Ðµ 3D-Ð¼Ð¸Ñ€Ð°

L = ( "â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›\n"
      "â¬›ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›\n"
      "â¬›ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ©ðŸŸ©ðŸŸ©â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›â¬›\n"
      "â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«â¬›â¬›â¬›ðŸŸ«â¬›â¬›â¬›\n"
      "â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›ðŸŸ©ðŸŸ«â¬›ðŸŸ«ðŸŸ«â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›ðŸŸ«â¬›â¬›â¬›\n"
      "â¬›â¬›ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ«â¬›ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ«â¬›â¬›â¬›ðŸŸ«â¬›â¬›â¬›\n"
      "â¬›ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›ðŸŸ«â¬›ðŸŸ©â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›ðŸŸ«â¬›â¬›â¬›\n"
      "â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ«â¬›â¬›â¬›\n"
      "â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›\n"
      "â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ«ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›\n"
      "â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©â¬›ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ«â¬›â¬›â¬›\n"
      "â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ©ðŸŸ«ðŸŸ«â¬›â¬›\n"
      "â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ«ðŸŸ«â¬›â¬›\n"
      "â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ©ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›\n"
      "â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ©ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ«â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›ðŸŸ«ðŸŸ«â¬›\n"
      "â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ«â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«\n"
      "ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«" )

LAND = []  # ÐšÐ°Ñ€Ñ‚Ð° ÑƒÑÑ‚Ñ€Ð¾Ð¹Ñ‡Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÐµÐ¹
LA   = []  # ÐšÐ°Ñ€Ñ‚Ð° ÑƒÑÑ‚Ñ€Ð¾Ð¹Ñ‡Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÐµÐ¹ (Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ)
COLO = []  # Ð¦Ð²ÐµÑ‚Ð¾Ð²Ð°Ñ ÐºÐ°Ñ€Ñ‚Ð° (Ð´Ð»Ñ ÐºÑ€Ð°ÑÐ¸Ð²Ð¾Ð¹ ÐºÐ°Ñ€Ñ‚Ð¸Ð½ÐºÐ¸)

# ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÐµÐ¼ ÐºÐ°Ñ€Ñ‚Ñƒ Ð² Ñ‡Ð¸ÑÐ»Ð¾Ð²ÑƒÑŽ Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ñƒ
layers = L.split("\n")

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¸ Ð·Ð°Ð¿Ð¾Ð»Ð½ÑÐµÐ¼ Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ñƒ LAND
YY = 0;  podpor = []
for row in layers:
    XX = 0
    numeric_row, co, numeric_rol = [], [], []
    for cell in row:
        if cell == "â¬›":
            usto = -1
            co.append("â¬›")
        if cell == "ðŸŸ©": 
            usto = 99.999
            podpor.append([YY, XX])
            co.append("ðŸŸ¥")
        if cell == "ðŸŸ«": 
            usto = 0
            co.append("ðŸŸ©")
        numeric_row.append(usto)
        numeric_rol.append(usto)
        XX += 1
        
    LAND.append(numeric_row)
    LA.append(numeric_rol)
    COLO.append(co)
    YY += 1

width = len(layers[0]);  height = len(layers)
print(f"Ð¨Ð¸Ñ€Ð¸Ð½Ð° Ð¼Ð¸Ñ€Ð°: {width}  Ð²Ñ‹ÑÐ¾Ñ‚Ð° Ð¼Ð¸Ñ€Ð°: {height}\n")

# Ð’Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÑŒ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð¾Ð²
for Y in range(height):
    print(f"{Y}  {'' if Y > 9 else ' '}" +
          ' '.join(f"{int(cell):2d}" if cell >= 0 else "  " for cell in LAND[Y]))

# Ð’Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ Ñ†Ð²ÐµÑ‚Ð°
for Y in range(height):
    print(f"{Y}  {'' if Y > 9 else ' '}" +
          ''.join(f"{cell}" if 1 == 1 else "  " for cell in COLO[Y]))

# ---------------------------------------------------------------------
# Ð Ð°Ð·Ð²Ð¾Ð´Ð¸Ð¼ ÑƒÑÑ‚Ñ€Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÑŒ Ð¿Ð¾ Ð¿Ð»Ð¾ÑÐºÐ¾ÑÑ‚Ð¸

def sosedi(Y, X):
    sose = []
    if Y > 0  and COLO[Y-1][X] == "ðŸŸ©": sose.append([Y-1, X])
    if Y < 16 and COLO[Y+1][X] == "ðŸŸ©": sose.append([Y+1, X])
    if X > 0  and COLO[Y][X-1] == "ðŸŸ©": sose.append([Y, X-1])    
    if X < 16 and COLO[Y][X+1] == "ðŸŸ©": sose.append([Y, X+1]) 
    return sose

print(); #print(podpor)
RecLvl = 0

def Recur(OrY, OrX):
    global RecLvl
    RecLvl += 1
    for s in sosedi(OrY, OrX):
        Y, X = s[0], s[1]
        COLO[Y][X] = "ðŸŸ«"
        LA[Y][X] += LA[OrY][OrX] * 0.21
        Recur(Y, X)
   #for s in sosedi(OrY, OrX): 
   #    Y, X = s[0], s[1]
   #    Recur(Y, X)
    
    
for p in  podpor:
    OrY, OrX = p[0], p[1]
    print(sosedi(OrY, OrX))
    LA[OrY][OrX] = LAND[OrY][OrX]
    Recur(OrY, OrX)
    print(RecLvl); print()
    
    RecLvl = 0
    for Y in range(height):
        for X in range(width):
            if LA[Y][X] > 0 and LA[Y][X] < 99: LAND[Y][X] += LA[Y][X]
            if LA[Y][X] > 0: LA[Y][X] = 0
            if COLO[Y][X] == "ðŸŸ«": COLO[Y][X] = "ðŸŸ©"
    #break
        
# Ð’Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ Ñ†Ð²ÐµÑ‚Ð°
for Y in range(height):
    print(f"{Y}  {'' if Y > 9 else ' '}" +
          ''.join(f"{cell}" if 1 == 1 else "  " for cell in COLO[Y]))

# Ð’Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÑŒ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð¾Ð²
for Y in range(height):
    print(f"{Y}  {'' if Y > 9 else ' '}" +
          ' '.join(f"{int(cell):2d}" if cell >= 0 else "  " for cell in LAND[Y]))
print()
# Ð’Ñ‹Ð²Ð¾Ð´Ð¸Ð¼ ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚ÑŒ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð¾Ð²
for Y in range(height):
    print(f"{Y}  {'' if Y > 9 else ' '}" +
          ' '.join(f"{str(round(cell,3))[:5]:6}" if cell >= 0 else "      " for cell in LAND[Y]))    
    

